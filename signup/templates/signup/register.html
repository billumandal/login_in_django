{% load staticfiles %}
<html>
    <head>
        <title>Registration</title>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="{% static 'css/signup.css' %}">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>

         <script type="text/javascript">

         $(document).ready(function()
             {
                 $("#register").click(function()
                     {
                         // Checking for blank fields.
                         // How to check if e-mail is e-mail
                         if( $("#username").val() == '' || $("#password").val()=='' || $("#email").val()==''){
                             $('input[type="text"],input[type="password"]').css("border","2px solid red");
                             $("#error").html("Please fill all the fields!");
                             } else if($("#password").val().length < 5){
                                 $("#error1").html("Password length should be more than 4");
                             } else if ( /*check if email is email */){
                                $("#error3").html("Please enter a correct email.");
                             } else if( $("#confirm_password").val()!=$("#password").val()){
                                 $("#error2").html("Passwords don't match. Try again!")
                             } else {
                                 $.ajax({
                                     type: "POST",
                                     url:"{% url 'register' %}",
                                     data: $('#register_form').serialize(),
                                     success: function(data)
                                     {
                                         window.location = 'product';
                                     },
                                     error: function(data){
                                         $("#error").html("Username already exists!");
                                     }
                                 });
                             }
                     });
             });
         </script>


         <style>
          body
          {
              background-image: url({% static "shot1.jpg" %});
              -moz-background-size: cover;
              -webkit-background-size: cover;
              background-size: cover;
              background-position: top center !important;
              background-repeat: no-repeat !important;
              background-attachment: fixed;
         }
         </style>

    </head>
    <body>

        <div class="container">
            <h2>Why isn't e-mail address showing?</h2>
            <!-- Trigger the modal with a button -->
            <button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#myModal">Registration</button>

            <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">Ã—</button>
                            <center> <b> <h4 class="modal-title">Registration</h4></b> </center>
                        </div>
                        <div class="modal-body" style = "background-color:#E0FFFF;">


                            <center>

                                <div style= "margin-top:1px;">
                                    <form style="align:center;" id ="register_form" method="POST" action="">{% csrf_token %}

                                        <table cellspacing = "5" cellpadding = "5">

                                            <tr>
                                                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                            </tr>

                                            <tr>
                                                <td>Username:</td>
                                                <td><input type="text" autofocus="autofocus" id="username" name="username" value="" class="form-control" placeholder="Enter username"></td>
                                                <td style="color:red;"></td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                                </td>
                                            </tr>

                                            <tr>
                                                <td>Email Address:</td>
                                                <td><input type="text" autofocus="autofocus" id="email" name="email" value="" class="form-control" placeholder="Enter your email address"></td>
                                                <td style="color:red;"></td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                                </td>
                                            </tr>


                                            <tr>
                                                <td>Password:</td>
                                                <td><input type="password" id="password" name="password" value="" class="form-control" placeholder="Enter Password"></td>
                                                <td style="color:red;"></td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                                </td>
                                            </tr>


                                            <tr>
                                                <td>Confirm password:</td>
                                                <td><input type="password" id="confirm_password" name="confirm_password" value="" class="form-control" placeholder="Enter confirm password"></td>
                                                <td style="color:red;"></td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                                </td>
                                            </tr>



                                            <tr>
                                                <td colspan="6" align="center"><input type="button" id="register"  name="register" value="register" class="btn btn-success" ></td>
                                            </tr>

                                        </table>
                                        <br><br>
                                        <p id="error" style="color:red;"></p>
                                        <p id="error1" style="color:red;"></p>
                                        <p id="error2" style="color:red;"></p>
                                        <p id="error3" style="color:red;"></p>
                                    </form>
                                </div>
                            </center>

                        </div>
                        <div class="modal-footer">
                            <marquee style = "color:red;">*****All the fields are mandatory*****</marquee>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </body>
</html>
